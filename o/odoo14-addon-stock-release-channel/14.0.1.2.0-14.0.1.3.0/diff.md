# Comparing `tmp/odoo14_addon_stock_release_channel-14.0.1.2.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_stock_release_channel-14.0.1.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,36 @@
-Zip file size: 47368 bytes, number of entries: 34
--rw-r--r--  2.0 unx     4546 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/__init__.py
--rw-r--r--  2.0 unx      891 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/__manifest__.py
--rw-r--r--  2.0 unx      639 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/data/ir_cron_data.xml
--rw-r--r--  2.0 unx      592 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/data/queue_job_data.xml
--rw-r--r--  2.0 unx      293 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml
--rw-r--r--  2.0 unx    19510 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/i18n/stock_release_channel.pot
--rw-r--r--  2.0 unx       89 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/models/__init__.py
--rw-r--r--  2.0 unx      871 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/models/stock_move.py
--rw-r--r--  2.0 unx     1896 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/models/stock_picking.py
--rw-r--r--  2.0 unx    23936 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/models/stock_release_channel.py
--rw-r--r--  2.0 unx       93 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      316 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       50 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/readme/CREDITS.rst
--rw-r--r--  2.0 unx      920 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      374 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/readme/USAGE.rst
--rw-r--r--  2.0 unx     1471 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/security/stock_release_channel.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/static/description/icon.png
--rw-r--r--  2.0 unx    14995 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/static/description/index.html
--rw-r--r--  2.0 unx     3214 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js
--rw-r--r--  2.0 unx      975 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss
--rw-r--r--  2.0 unx      153 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/__init__.py
--rw-r--r--  2.0 unx     5628 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/common.py
--rw-r--r--  2.0 unx     5591 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/test_channel_action.py
--rw-r--r--  2.0 unx     3223 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py
--rw-r--r--  2.0 unx     3423 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py
--rw-r--r--  2.0 unx     2099 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/tests/test_release_channel.py
--rw-r--r--  2.0 unx      617 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/views/assets.xml
--rw-r--r--  2.0 unx     2816 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/views/stock_picking_views.xml
--rw-r--r--  2.0 unx    27893 b- defN 23-Jan-10 10:34 odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
--rw-r--r--  2.0 unx     5245 b- defN 23-Jan-10 10:34 odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-10 10:34 odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jan-10 10:34 odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3897 b- defN 23-Jan-10 10:34 odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/RECORD
-34 files, 145829 bytes uncompressed, 40696 bytes compressed:  72.1%
+Zip file size: 47515 bytes, number of entries: 34
+-rw-r--r--  2.0 unx     4546 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/__init__.py
+-rw-r--r--  2.0 unx      891 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/__manifest__.py
+-rw-r--r--  2.0 unx      639 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/ir_cron_data.xml
+-rw-r--r--  2.0 unx      592 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/queue_job_data.xml
+-rw-r--r--  2.0 unx      293 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml
+-rw-r--r--  2.0 unx    19510 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/i18n/stock_release_channel.pot
+-rw-r--r--  2.0 unx       89 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/__init__.py
+-rw-r--r--  2.0 unx      802 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_move.py
+-rw-r--r--  2.0 unx     1994 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_picking.py
+-rw-r--r--  2.0 unx    23936 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_release_channel.py
+-rw-r--r--  2.0 unx       93 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      316 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       50 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CREDITS.rst
+-rw-r--r--  2.0 unx      920 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      374 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1471 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/security/stock_release_channel.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/description/icon.png
+-rw-r--r--  2.0 unx    14995 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/description/index.html
+-rw-r--r--  2.0 unx     3214 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js
+-rw-r--r--  2.0 unx      975 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss
+-rw-r--r--  2.0 unx      153 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/__init__.py
+-rw-r--r--  2.0 unx     5628 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/common.py
+-rw-r--r--  2.0 unx     6104 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_action.py
+-rw-r--r--  2.0 unx     3223 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py
+-rw-r--r--  2.0 unx     3423 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py
+-rw-r--r--  2.0 unx     2099 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_release_channel.py
+-rw-r--r--  2.0 unx      617 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/assets.xml
+-rw-r--r--  2.0 unx     2816 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx    27893 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
+-rw-r--r--  2.0 unx     5245 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3897 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD
+34 files, 146371 bytes uncompressed, 40843 bytes compressed:  72.1%
```

## zipnote {}

```diff
@@ -84,20 +84,20 @@
 
 Filename: odoo/addons/stock_release_channel/views/stock_picking_views.xml
 Comment: 
 
 Filename: odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/METADATA
+Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/WHEEL
+Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/top_level.txt
+Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/RECORD
+Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_release_channel/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2020 Camptocamp
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html)
 
 {
     "name": "Stock Release Channels",
     "summary": "Manage workload in WMS with release channels",
-    "version": "14.0.1.2.0",
+    "version": "14.0.1.3.0",
     "development_status": "Beta",
     "license": "AGPL-3",
     "author": "Camptocamp, Odoo Community Association (OCA)",
     "maintainers": ["sebalix"],
     "website": "https://github.com/OCA/wms",
     "depends": [
         "sale_stock",
```

## odoo/addons/stock_release_channel/models/stock_move.py

```diff
@@ -12,13 +12,13 @@
         # after releasing, we re-assign a release channel,
         # as we may release only partially, the channel may
         # change
         released_moves = super().release_available_to_promise()
         released_moves.picking_id.assign_release_channel()
         return released_moves
 
-    def _action_confirm(self, merge=True, merge_into=False):
-        moves = super()._action_confirm(merge=merge, merge_into=merge_into)
-        pickings = moves.filtered("need_release").picking_id
+    def _assign_picking(self):
+        res = super()._assign_picking()
+        pickings = self.filtered("need_release").picking_id
         if pickings:
             pickings._delay_assign_release_channel()
-        return moves
+        return res
```

## odoo/addons/stock_release_channel/models/stock_picking.py

```diff
@@ -1,20 +1,24 @@
 # Copyright 2020 Camptocamp
+# Copyright 2023 Jacques-Etienne Baudoux (BCIM) <je@bcim.be>
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html)
 
 from odoo import _, exceptions, fields, models
 
 from odoo.addons.queue_job.job import identity_exact
 
 
 class StockPicking(models.Model):
     _inherit = "stock.picking"
 
     release_channel_id = fields.Many2one(
-        comodel_name="stock.release.channel", index=True, ondelete="restrict"
+        comodel_name="stock.release.channel",
+        index=True,
+        ondelete="restrict",
+        copy=False,
     )
     commercial_partner_id = fields.Many2one(
         comodel_name="res.partner",
         string="Commercial Entity",
         related="partner_id.commercial_partner_id",
         store=True,
         readonly=True,
```

## odoo/addons/stock_release_channel/tests/test_channel_action.py

```diff
@@ -132,7 +132,20 @@
 
     def test_action_last_picking_done(self):
         self._release_all()
         self._action_done_picking(self.picking.move_lines.move_orig_ids.picking_id)
         self._action_done_picking(self.picking)
         action = self.channel.get_action_picking_form()
         self.assertEqual(action["res_id"], self.picking.id)
+
+    def test_return_has_no_channel(self):
+        self.assertTrue(self.picking.release_channel_id is not False)
+        self.test_action_done()
+        wizard = self.env["stock.return.picking"].new(
+            {
+                "picking_id": self.picking.id,
+            }
+        )
+        wizard._onchange_picking_id()
+        reception_picking_id, __ = wizard._create_returns()
+        reception = self.env["stock.picking"].browse(reception_picking_id)
+        self.assertFalse(reception.release_channel_id)
```

## Comparing `odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/METADATA` & `odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-stock-release-channel
-Version: 14.0.1.2.0
+Version: 14.0.1.3.0
 Summary: Manage workload in WMS with release channels
 Home-page: https://github.com/OCA/wms
 Author: Camptocamp, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/RECORD` & `odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD`

 * *Files 17% similar despite different names*

```diff
@@ -1,34 +1,34 @@
 odoo/addons/stock_release_channel/README.rst,sha256=5xMwZroFM24k7IKq6AiK14uKi_wrw1cfzI69xKJcaX4,4546
 odoo/addons/stock_release_channel/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/stock_release_channel/__manifest__.py,sha256=kxEy5ciejLi6EAnJr-Mf34EUyHkEbjSJEBWTSzdfLzE,891
+odoo/addons/stock_release_channel/__manifest__.py,sha256=_UM5I1DEIH1XtISEmB4vV9-wKDnzvxp_ZwleQSxIqRY,891
 odoo/addons/stock_release_channel/data/ir_cron_data.xml,sha256=Fs0se4lPKelUpNvJnfEde32718SRlKCt0hEqQWQ-tQg,639
 odoo/addons/stock_release_channel/data/queue_job_data.xml,sha256=MyCGOSZNti3sgtwtco1_EBCM246w2JG8F478tczgbtA,592
 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml,sha256=NRy2ijgGrgLx0FL7spJC1BiaECEDBlMuarFii52jaPE,293
 odoo/addons/stock_release_channel/i18n/stock_release_channel.pot,sha256=K8kBU5iUD7CEy2SVhHlliWkRbFaWuqrOJYkfRtgVhqs,19510
 odoo/addons/stock_release_channel/models/__init__.py,sha256=-Fc4Nz0A7KRRsEV7lKMJ8qGOS7a3U6fyl_A_2V9FGWM,89
-odoo/addons/stock_release_channel/models/stock_move.py,sha256=H5NhIIl1jPuCEZshbToJT0qvKpxYpfYgNSs5iXQFMQg,871
-odoo/addons/stock_release_channel/models/stock_picking.py,sha256=oLL8_usQioPPZNUK_n6XCu84PCfwsM85z7RWc9QO66I,1896
+odoo/addons/stock_release_channel/models/stock_move.py,sha256=tBMD0zIhNth6sjlvLTtBaOsEm8kv_OcVdVkDJvBNPKo,802
+odoo/addons/stock_release_channel/models/stock_picking.py,sha256=UTcCO686WfKrabzvCcbCySW8vS1_13N4k9iCi6AONJA,1994
 odoo/addons/stock_release_channel/models/stock_release_channel.py,sha256=16tDBtoI3dvj6421wktLWkxAarxjxcOO2ZQc_KhROG4,23936
 odoo/addons/stock_release_channel/readme/CONFIGURE.rst,sha256=foUMWWFytuVRVkV1V4uA4FvsW2I5izyrcR1CzZ6mQTI,93
 odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst,sha256=wANA1SDnMWhVVWcUjBExhR3m_vJ8uR1U_bjzqK7oqoQ,316
 odoo/addons/stock_release_channel/readme/CREDITS.rst,sha256=-JppA6kiiAVqptoc7ytAB6vOqf_0W5uJrZLh70XGE3w,50
 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst,sha256=LJj2UQ3g5NteOFkfldMDCU2sNVx6QFNCOC6HjzvpsXY,920
 odoo/addons/stock_release_channel/readme/USAGE.rst,sha256=l7KALZWYIQOX9h_nK9_bsDuJhTmpkGvZX1BoI8vERvA,374
 odoo/addons/stock_release_channel/security/stock_release_channel.xml,sha256=U0WfLbMKR4mnNdI4mfN8e7UTxLnyd17eVNhsBy-dMSc,1471
 odoo/addons/stock_release_channel/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/stock_release_channel/static/description/index.html,sha256=kAnjiduJSnNLJLGYuuJiEinDF0TxclkuSQoyrhA26U8,14995
 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js,sha256=1ntAcRvXU4LXD4QOwNej0MHgtzT-bJfMJmrBSuJw-QI,3214
 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss,sha256=DK0Azc8Gk3FlxeKzjZpLhRZzCQmgXdfLNmfz1CbNN0g,975
 odoo/addons/stock_release_channel/tests/__init__.py,sha256=WJk3lP_kqpgemGIfgNw_eNubXMCTFXACaIBgDNEIOF8,153
 odoo/addons/stock_release_channel/tests/common.py,sha256=M9R5FH5PgfOm9f2szEBWa3Z8WoUzhPfhkn1b7gYVqHU,5628
-odoo/addons/stock_release_channel/tests/test_channel_action.py,sha256=3SPvYVpCrizHjr8vp5c3MNNZfycMLf_GRXyQ9hmsAB4,5591
+odoo/addons/stock_release_channel/tests/test_channel_action.py,sha256=dGVDJO0P2IVQbjNYpgR8CkdTvonL5aOHOtVT_Xsp7hM,6104
 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py,sha256=p0zCo4KgoVtSdL8-0aiwbB8_dP2OYiHy8xHtKFK4I-w,3223
 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py,sha256=Dk-Lg6N1Yvf-iTZCatBygLa_zrrS9TGTHhE2V4Br_oE,3423
 odoo/addons/stock_release_channel/tests/test_release_channel.py,sha256=ZMFqP9KI3mR9Pw72VmAY-CuVBtbtCkGF1NHIP5nNAIg,2099
 odoo/addons/stock_release_channel/views/assets.xml,sha256=0N5C1BrYthuTIFLOy5WrnBmSYbGREBtJ7CEoHjfUlI4,617
 odoo/addons/stock_release_channel/views/stock_picking_views.xml,sha256=HRClC9y-GkzQeCyGHbFE4okfzu9h38pLoa09euq96uY,2816
 odoo/addons/stock_release_channel/views/stock_release_channel_views.xml,sha256=2gYbDDmjx1Jae08Vqfp3Z6i_jIx3CgO676RrociJsGU,27893
-odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/METADATA,sha256=uc1H5SX6IH8fPk8h65epi19Eem4RW0Jj9dCTA404qT4,5245
-odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_stock_release_channel-14.0.1.2.0.dist-info/RECORD,,
+odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA,sha256=s6iq7tQdEsp2FInL4GUqbMbyVhQqyjC3eveiAmSyQ2g,5245
+odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD,,
```

